
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>À Propos | Musk & Amber</title>
    <link rel="shortcut icon" type="image/x-icon" href="./WhatsApp_Image_2025-11-25_at_15.35.57-removebg-preview.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #3e1b2a;
            --secondary: #561e4b;
            --accent: #868d7d;
            --light: #f8f5f2;
            --dark: #2c2c2c;
            --gray: #95a5a6;
            --success: #27ae60;
        }

        body {
            background-color: #fefefe;
            color: #333;
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-top {
            background-color: var(--primary);
            color: white;
            padding: 10px 0;
        }

        .header-top-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .header-contact {
            font-size: 14px;
            margin-right: 20px;
        }

        .header-contact i {
            margin-right: 5px;
        }

        .header-social {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-social a {
            color: white;
            font-size: 14px;
        }

        .header-social a:hover {
            color: var(--accent);
        }

        .logo-container {
            text-align: center;
            padding: 20px 0;
            position: relative;
        }

        .logo-wrapper {
            display: inline-block;
            position: relative;
        }

        /* UPDATED: Larger logo sizes */
        .logo-circle {
            width: 150px; /* Increased from 120px */
            height: 150px; /* Increased from 120px */
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            box-shadow: 0 5px 20px rgba(86, 30, 75, 0.3);
            border: 5px solid white;
            position: relative;
            z-index: 2;
        }

        .logo-img {
            width: 150px; /* Increased from 80px */
            height: 150px; /* Increased from 80px */
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
        }

        .logo-text {
            font-size: 32px; /* Increased from 28px */
            font-weight: 700;
            color: var(--primary);
            letter-spacing: 1px;
        }

        .logo-text span {
            color: var(--secondary);
        }

        /* Main Navigation */
        .main-nav {
            background-color: var(--light);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
            position: relative;
        }

        /* Desktop Navigation */
        .desktop-nav {
            display: flex;
        }

        .desktop-nav ul {
            display: flex;
            list-style: none;
        }

        .desktop-nav ul li {
            position: relative;
        }

        .desktop-nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            transition: all 0.3s;
            padding: 20px 25px;
            display: block;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        .desktop-nav ul li a:hover {
            color: var(--secondary);
            background-color: rgba(86, 30, 75, 0.05);
        }

        .desktop-nav a.active {
            color: var(--secondary);
            background-color: rgba(86, 30, 75, 0.1);
        }

        /* Dropdown Menu */
        .dropdown {
            position: relative;
        }

        .dropdown-content {
            position: absolute;
            top: 100%;
            left: 0;
            background-color: white;
            min-width: 220px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 5px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s ease;
            z-index: 1000;
            padding: 10px 0;
        }

        .dropdown:hover .dropdown-content {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-content a {
            color: var(--dark);
            padding: 12px 20px;
            text-decoration: none;
            display: block;
            transition: all 0.3s;
            border-left: 3px solid transparent;
            text-transform: none;
        }

        .dropdown-content a:hover {
            background-color: var(--light);
            color: var(--secondary);
            border-left: 3px solid var(--secondary);
        }

        .dropdown-content a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        /* Mobile Navigation */
        .mobile-nav {
            display: none;
        }

        .hamburger-menu {
            font-size: 24px;
            color: var(--dark);
            cursor: pointer;
            padding: 5px;
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            max-width: 300px;
            height: 100vh;
            background-color: white;
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
            transition: left 0.3s ease;
            z-index: 1000;
            padding: 70px 20px 20px;
        }

        .mobile-menu.active {
            left: 0;
        }

        .mobile-menu ul {
            list-style: none;
        }

        .mobile-menu ul li {
            margin-bottom: 10px;
        }

        .mobile-menu ul li a {
            text-decoration: none;
            color: var(--dark);
            font-size: 16px;
            font-weight: 500;
            display: block;
            padding: 12px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .mobile-menu ul li a:hover {
            background-color: var(--light);
            color: var(--secondary);
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .menu-overlay.active {
            display: block;
        }

        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            color: var(--dark);
            cursor: pointer;
        }

        .cart-icon {
            position: fixed;
            top: 200px;
            right: 20px;
            background-color: var(--secondary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(86, 30, 75, 0.3);
            z-index: 99;
            transition: transform 0.3s;
        }

        .cart-icon:hover {
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            font-size: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
        }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background-color: white;
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease;
            z-index: 1001;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .cart-title {
            font-size: 22px;
            font-weight: 600;
            color: var(--primary);
        }

        .close-cart {
            font-size: 22px;
            color: var(--dark);
            cursor: pointer;
        }

        .cart-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .cart-items {
            margin-bottom: 20px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background-size: cover;
            background-position: center;
            border-radius: 4px;
            margin-right: 15px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 10px;
        }

        /* Size Options Styles */
        .cart-item-size {
            margin-bottom: 10px;
        }

        .size-options {
            display: flex;
            gap: 10px;
            margin-top: 5px;
        }

        .size-option {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .size-option:hover {
            border-color: var(--secondary);
            color: var(--secondary);
        }

        .size-option.selected {
            background-color: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: var(--light);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-btn:hover {
            background-color: #ddd;
        }

        .cart-item-quantity {
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }

        .remove-item {
            color: var(--secondary);
            background: none;
            border: none;
            cursor: pointer;
            margin-left: auto;
        }

        .cart-footer {
            padding: 20px;
            border-top: 1px solid #eee;
            background-color: #f9f9f9;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }

        .checkout-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .checkout-btn:hover {
            background-color: var(--primary);
        }

        .empty-cart {
            text-align: center;
            padding: 40px 0;
            color: var(--gray);
        }

        .empty-cart i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #ddd;
        }

        /* About Hero */
        .about-hero {
            position: relative;
            height: 50vh;
            min-height: 400px;
            overflow: hidden;
            margin-bottom: 80px;
            display: flex;
            align-items: center;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1590736966891-6e59a8e5c135?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            width: 100%;
            text-align: center;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .about-hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: white;
            line-height: 1.2;
        }

        .about-hero p {
            font-size: 18px;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* About Story */
         .about-story {
            padding: 80px 0;
            background-color: white;
        }

        .section-title {
            text-align: center;
            margin-bottom: 60px;
            color: var(--primary);
            font-size: 36px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 3px;
            background-color: var(--secondary);
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
        }

        .story-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            margin-bottom: 80px;
        }

        .story-text h2 {
            font-size: 32px;
            margin-bottom: 25px;
            color: var(--primary);
            line-height: 1.3;
        }

        .story-text p {
            font-size: 16px;
            line-height: 1.8;
            color: #555;
            margin-bottom: 20px;
        }

        .story-image {
            border-radius: 50%; /* CHANGED: Now a circle instead of rectangle */
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(86, 30, 75, 0.2); /* Enhanced shadow */
            height: 500px; /* Keep same height */
            width: 500px; /* Add width to make it perfect circle */
            margin: 0 auto; /* Center it */
            border: 8px solid white; /* Added white border for frame effect */
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); /* Gradient background */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .story-image img {
            width: 100%; /* Slightly smaller to show the frame */
            height: 100%; /* Slightly smaller to show the frame */
            object-fit: contain; /* Changed to contain to show full logo */
            transition: transform 0.5s;
            border-radius: 50%; /* Make image inside also circular */
        }

        .story-image:hover img {
            transform: scale(1.05);
        }


        @media (max-width: 992px) {
            .story-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .story-image {
                width: 500px; /* Adjust for tablet */
                height: 500px;
                order: -1; /* Move image to top on mobile */
                margin-bottom: 40px;
            }
            
            /* ... (rest of media queries remain the same) ... */
        }

        @media (max-width: 768px) {
            /* ... (all previous mobile styles remain the same) ... */
            
            .story-image {
                width: 350px;
                height: 350px;
            }
            
            .story-text h2 {
                font-size: 28px;
                text-align: center;
            }
            
            .story-text p {
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .story-image {
                width: 280px;
                height: 280px;
                border-width: 6px;
            }
            
            .story-image img {
                width: 85%;
                height: 85%;
            }
        }
        /* Blog Section */
        .blog-section {
            padding: 80px 0;
            background-color: var(--light);
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .blog-card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .blog-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .blog-image {
            width: 100%;
            height: 200px;
            overflow: hidden;
        }

        .blog-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .blog-card:hover .blog-image img {
            transform: scale(1.1);
        }

        .blog-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .blog-title {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 15px;
            line-height: 1.4;
            font-weight: 600;
        }

        .blog-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .blog-read-more {
            color: var(--secondary);
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.3s;
        }

        .blog-read-more:hover {
            color: var(--primary);
        }

        .blog-read-more i {
            font-size: 12px;
        }

        /* Newsletter */
        .newsletter {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--dark) 100%);
            color: white;
            text-align: center;
        }

        .newsletter h2 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        .newsletter p {
            font-size: 18px;
            margin-bottom: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 30px 0 0 30px;
            font-size: 16px;
            outline: none;
        }

        .newsletter-button {
            padding: 15px 30px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 0 30px 30px 0;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .newsletter-button:hover {
            background-color: var(--accent);
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 2px;
            background-color: var(--secondary);
            bottom: 0;
            left: 0;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: #bbb;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column ul li a:hover {
            color: white;
        }

        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: background-color 0.3s;
        }

        .social-icons a:hover {
            background-color: var(--secondary);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #bbb;
            font-size: 14px;
        }

        /* Checkout Form */
        .checkout-form-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1002;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .checkout-form-overlay.active {
            display: flex;
        }

        .checkout-form-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .checkout-form-title {
            margin-bottom: 20px;
            color: var(--primary);
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        .form-buttons {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .submit-order,
        .cancel-order {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .submit-order {
            background-color: var(--secondary);
            color: white;
        }

        .submit-order:hover {
            background-color: var(--primary);
        }

        .cancel-order {
            background-color: #e74c3c;
            color: white;
        }

        .cancel-order:hover {
            background-color: #c0392b;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 5px;
            color: white;
            font-weight: 500;
            z-index: 9999;
            animation: slideIn 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .notification.success {
            background-color: var(--success);
        }

        .notification.error {
            background-color: #e74c3c;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .story-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .dropdown-content {
                position: static;
                opacity: 1;
                visibility: visible;
                transform: none;
                box-shadow: none;
                padding-left: 20px;
                display: none;
            }
            
            .dropdown.active .dropdown-content {
                display: block;
            }
            
            .blog-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header-top {
                padding: 10px 0;
            }

            .header-top-content {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .header-contact {
                text-align: center;
                margin-right: 0;
                margin-bottom: 5px;
            }

            .header-social {
                justify-content: center;
                margin-bottom: 10px;
            }

            .logo-container {
                padding: 15px 0;
                position: relative;
            }

            /* UPDATED: Larger logo for mobile */
            .logo-circle {
                width: 150px; /* Keep large size for mobile */
                height: 150px; /* Keep large size for mobile */
                margin-top: 10px;
            }

            .logo-img {
                width: 150px; /* Keep large size for mobile */
                height: 150px; /* Keep large size for mobile */
            }

            .logo-text {
                font-size: 32px; /* Increased font size for mobile */
                margin-top: 10px;
            }

            .desktop-nav {
                display: none;
            }

            .mobile-nav {
                display: block;
                position: absolute;
                top: 20px; /* Adjusted position */
                left: 20px;
                transform: none;
                z-index: 100;
            }

            .mobile-nav .hamburger-menu {
                font-size: 28px;
                color: var(--primary);
                background-color: var(--light);
                padding: 10px;
                border-radius: 5px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            .cart-icon {
                position: fixed;
                top: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
                font-size: 20px;
                z-index: 101;
            }

            .cart-count {
                width: 20px;
                height: 20px;
                font-size: 11px;
            }

            .main-nav {
                display: none;
            }

            .about-hero {
                height: auto;
                min-height: 300px;
                margin-top: 20px;
            }

            .about-hero h1 {
                font-size: 32px;
            }

            .about-hero p {
                font-size: 16px;
            }

            .section-title {
                font-size: 30px;
            }

            .blog-grid {
                grid-template-columns: 1fr;
            }

            .newsletter-form {
                flex-direction: column;
            }

            .newsletter-input {
                border-radius: 30px;
                margin-bottom: 10px;
            }

            .newsletter-button {
                border-radius: 30px;
            }
            
            /* Mobile Menu Styles */
            .mobile-menu {
                position: fixed;
                top: 0;
                left: -100%;
                width: 80%;
                max-width: 300px;
                height: 100vh;
                background-color: white;
                box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
                transition: left 0.3s ease;
                z-index: 1000;
                padding: 70px 20px 20px;
            }

            .mobile-menu.active {
                left: 0;
            }

            .mobile-menu ul {
                list-style: none;
            }

            .mobile-menu ul li {
                margin-bottom: 10px;
            }

            .mobile-menu ul li a {
                text-decoration: none;
                color: var(--dark);
                font-size: 16px;
                font-weight: 500;
                display: block;
                padding: 12px;
                border-radius: 4px;
                transition: background-color 0.3s;
            }

            .mobile-menu ul li a:hover {
                background-color: var(--light);
                color: var(--secondary);
            }

            .menu-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 999;
                display: none;
            }

            .menu-overlay.active {
                display: block;
            }

            .close-menu {
                position: absolute;
                top: 20px;
                right: 20px;
                font-size: 24px;
                color: var(--dark);
                cursor: pointer;
                z-index: 1001;
            }

            .form-buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .logo-text {
                font-size: 28px; /* Adjusted for very small screens */
            }

            .about-hero h1 {
                font-size: 26px;
            }

            .blog-image {
                height: 180px;
            }

            .blog-content {
                padding: 20px;
            }

            .blog-title {
                font-size: 18px;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }
        }
        /* Add to your existing CSS */
        .mobile-menu ul li a i {
            width: 20px;
            text-align: center;
            margin-right: 10px;
        }

        .mobile-menu ul li a:hover {
            background-color: #f8f5f2;
            color: #561e4b;
        }

        /* Promotion specific icon color */
        .mobile-menu ul li a[onclick*="promotion"] i {
            color: #ff9800;
        }
    </style>
</head>
<body>
    <!-- Header Top (Contact Info) -->
    <div class="header-top">
        <div class="container header-top-content">
            <div class="header-contact">
                <p>  Livraison disponible partout au Maroc, gratuite à partir de 1000dh | </p>
                
            </div>
            <div class="header-social">
            
                <a href="https://www.instagram.com/musk_and_amber_lovers/"><i class="fab fa-instagram"></i></a>
                <a href="https://www.tiktok.com/@muskwamber"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>
    </div>

    <!-- Logo Section (Separated) -->
    <div class="logo-container">
        <!-- Mobile Hamburger Menu -->
        <div class="mobile-nav">
            <div class="hamburger-menu" id="hamburger-menu">
                <i class="fas fa-bars"></i>
            </div>
        </div>

        <div class="logo-wrapper">
            <div class="logo-circle">
                <img src="WhatsApp_Image_2025-11-25_at_15.35.57-removebg-preview.png" alt="Musk & Amber" class="logo-img">
            </div>
            <div class="logo-text">Musk<span> & Amber</span></div>
        </div>
    </div>

    <!-- Main Navigation -->
    <nav class="main-nav">
        <div class="container nav-container">
            <!-- Desktop Navigation -->
            <div class="desktop-nav">
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="Categories.html">Catégories</a></li>
                    <li><a href="blog.html" class="active">Blog</a></li>
                    <li class="dropdown">
                        <a href="nouveautés.html">Nouveautés <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-content">
                            <a href="nouveautés.html"><i class="fas fa-female"></i> Parfums Femme</a>
                            <a href="nouveautés.html"><i class="fas fa-male"></i> Parfums Homme</a>
                            <a href="nouveautés.html"><i class="fas fa-mosque"></i> Parfums Arabes</a>
                            <a href="nouveautés.html"><i class="fas fa-star"></i> Éditions Limitées</a>
                            <a href="nouveautés.html"><i class="fas fa-gift"></i> Coffrets Cadeaux</a>
                        </div>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu (Outside main nav) -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="close-menu" id="close-menu">
            <i class="fas fa-times"></i>
        </div>
        <ul>
            <li><a href="index.html">Accueil</a></li>
             <li><a href="javascript:void(0)" onclick="navigateToCategory('femme')">Parfums femmes</a></li>
            <li><a href="javascript:void(0)" onclick="navigateToCategory('homme')">Parfums homme</a></li>
            <li><a href="javascript:void(0)" onclick="navigateToCategory('arabes')">Parfum arabes</a></li>
            <li><a href="javascript:void(0)" onclick="navigateToCategory('niches')">Parfum de niche</a></li>
            <li><a href="blog.html" class="active">Blog</a></li> 
            <li><a href="nouveautés.html" id="mobile-nouveautes">Nouveautés </a></li>    
              
            
            
        </ul>
    </div>
    <div class="menu-overlay" id="menu-overlay"></div>

    <!-- Cart Icon (Floating) -->
    <div class="cart-icon" id="cart-icon">
        <i class="fas fa-shopping-bag"></i>
        <span class="cart-count">0</span>
    </div>

    <!-- Shopping Cart Sidebar -->
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h2 class="cart-title">Votre panier</h2>
            <div class="close-cart" id="close-cart">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="cart-content">
            <div class="cart-items" id="cart-items">
                <!-- Cart items will be dynamically loaded here -->
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cart-total-price">0.00 MAD</span>
            </div>
            <button class="checkout-btn" id="checkout-btn">Commander maintenant</button>
        </div>
    </div>
    <div class="menu-overlay" id="cart-overlay"></div>

    <!-- Checkout Form Overlay -->
    <div class="checkout-form-overlay" id="checkout-form-overlay">
        <div class="checkout-form-container">
            <h2 class="checkout-form-title">Finaliser votre commande</h2>
            <form id="checkout-form">
                <div class="form-group">
                    <label for="customer-name">Nom complet</label>
                    <input type="text" id="customer-name" required>
                </div>
                <div class="form-group">
                    <label for="customer-phone">Numéro de téléphone</label>
                    <input type="tel" id="customer-phone" required>
                </div>
                <div class="form-group">
                    <label for="customer-address">Adresse de livraison</label>
                    <textarea id="customer-address" required></textarea>
                </div>
                <div class="form-group">
                    <label for="customer-notes">Notes supplémentaires (optionnel)</label>
                    <textarea id="customer-notes"></textarea>
                </div>
                <div class="form-buttons">
                    <button type="submit" class="submit-order">Confirmer la commande</button>
                    <button type="button" class="cancel-order" id="cancel-order">Annuler</button>
                </div>
            </form>
        </div>
    </div>

    <!-- About Hero -->
    <section class="about-hero">
        <div class="container hero-content">
            <h1>Notre Histoire</h1>
            <p>Découvrez l'univers Musk & Amber, où chaque fragrance raconte une histoire unique, mêlant tradition ancestrale et innovation contemporaine.</p>
        </div>
    </section>

    <!-- About Story -->
    <section class="about-story">
        <div class="container">
            <h2 class="section-title">À propos de nous</h2>
            <div class="story-content">
                <div class="story-text">
                    <h2>La naissance d'une passion</h2>
                    <p>Bienvenue chez Musk & Amber, votre destination pour des parfums authentiques et d'exception.</p>
                    <p>Nous sélectionnons avec soin des fragrances de niche et de grandes maisons, alliant élégance, originalité et qualité. Notre mission est simple : vous offrir des parfums qui vous ressemblent vraiment.</p>
                    <p>Que vous cherchiez une signature pour le quotidien ou une fragrance pour les moments spéciaux, notre collection saura répondre à vos envies.</p>
                    <p>Découvrez des parfums authentiques, explorez notre sélection et trouvez la fragrance qui vous correspond parfaitement.</p>
                </div>
                <div class="story-image">
                    <img src="./WhatsApp Image 2025-11-25 at 15.40.17.jpeg" alt="Notre histoire">
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section class="blog-section">
        <div class="container">
            <h2 class="section-title">Notre Blog</h2>
            <div class="blog-grid" id="blog-grid">
                <!-- Blog cards will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter">
        <div class="container">
            <h2>Rejoignez notre univers</h2>
            <p>Abonnez-vous pour découvrir en exclusivité nos nouvelles créations, histoires de parfums et offres spéciales.</p>
            <form class="newsletter-form">
                <input type="email" class="newsletter-input" placeholder="Votre adresse email" required>
                <button type="submit" class="newsletter-button">S'abonner</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Musk & Amber</h3>
                    <p>Votre destination pour des fragrances de luxe exceptionnelles qui éveillent les sens et expriment votre personnalité unique.</p>
                    <div class="social-icons">
                        
                        <a href="https://www.instagram.com/musk_and_amber_lovers/"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.tiktok.com/@muskwamber"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Liens rapides</h3>
                    <ul>
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="javascript:void(0)" onclick="filterByCategory('arabes')">Parfum arabes</a></li>
                        <li><a href="nouveautes.html">Nouveautés</a></li>
                        <li><a href="about.html">À propos</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Informations</h3>
                    <ul>
                        <li><a href="about.html">À propos de nous</a></li>
                        <li><a href="Contact.html">Contact</a></li>
                        
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i>  0668313435 </li>
                        
                        <li><i class="fas fa-map-marker-alt"></i> Morocco</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Musk & Amber. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script>
       const firebaseConfig = {
    apiKey: "AIzaSyDxHAlR86M1U_-sBdLtZ6nEh0ssUREQY5M",
    authDomain: "muskandamber-83cd8.firebaseapp.com",
    projectId: "muskandamber-83cd8",
    storageBucket: "muskandamber-83cd8.firebasestorage.app",
    messagingSenderId: "820622006518",
    appId: "1:820622006518:web:540280c4c18f2e94ac74d7",
    measurementId: "G-58WS7ZEYG3"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

let cart = JSON.parse(localStorage.getItem('muskandamber-cart')) || [];

// DOM Elements
const cartIcon = document.getElementById('cart-icon');
const cartCount = document.querySelector('.cart-count');
const cartSidebar = document.getElementById('cart-sidebar');
const closeCart = document.getElementById('close-cart');
const cartItems = document.getElementById('cart-items');
const cartTotalPrice = document.getElementById('cart-total-price');
const checkoutBtn = document.getElementById('checkout-btn');
const cartOverlay = document.getElementById('cart-overlay');
const hamburgerMenu = document.getElementById('hamburger-menu');
const mobileMenu = document.getElementById('mobile-menu');
const closeMenu = document.getElementById('close-menu');
const menuOverlay = document.getElementById('menu-overlay');
const checkoutFormOverlay = document.getElementById('checkout-form-overlay');
const checkoutForm = document.getElementById('checkout-form');
const cancelOrderBtn = document.getElementById('cancel-order');
const mobileNouveautes = document.getElementById('mobile-nouveautes');
const blogGrid = document.getElementById('blog-grid');

// Blog data
const blogPosts = [
    {
        id: 1,
        title: "L'Ambre",
        image: "give me picture of ambre.jpg",
        description: "Une note chaude et lumineuse qui déploie lentement son aura dorée, mêlant des accents résineux, sucrés et presque balsamiques, comme une caresse enveloppante qui réchauffe la peau et donne à tout parfum une profondeur sensuelle et réconfortante.",
        readTime: "5 min"
    },
    {
        id: 2,
        title: "Le Musc",
        image: "musc.jpeg",
        description: "Une senteur douce, propre et délicatement animale qui s'étire en un voile soyeux, apportant à la composition une sensualité intime, presque seconde peau, capable de transformer un parfum en une présence subtilement addictive et irrésistible.",
        readTime: "4 min"
    },
    {
        id: 3,
        title: "L'Oud",
        image: "give me picture of oud we use in perfume (1).jpg",
        description: "Un bois profond et mystérieux, riche en nuances fumées et résineuses, symbole de luxe oriental.",
        readTime: "3 min"
    },
    {
        id: 4,
        title: "La Rose",
        image: "rose.jpeg",
        description: "Une fleur majestueuse et intemporelle qui libère un parfum à la fois frais, velouté et intensément romantique, évoquant la délicatesse des pétales au matin et la sophistication d'un bouquet opulent, symbole d'élégance et de féminité absolue.",
        readTime: "7 min"
    },
    {
        id: 5,
        title: "Le Bois de Santal",
        image: "bois de santal we use in perfume.jpg",
        description: "Un bois crémeux et apaisant, aux accents lactés et méditatifs qui adoucissent toute composition.",
        readTime: "5 min"
    },
    {
        id: 6,
        title: "Le Safran",
        image: "safran.jpg",
        description: "Une épice rare et précieuse, lumineuse et légèrement métallique, qui dégage une chaleur cuirée et exotique, ajoutant à la composition une intensité raffinée et un éclat mystérieux qui attire l'attention sans jamais devenir écrasant",
        readTime: "3 min"
    },
    {
        id: 7,
        title: "Le Cuir",
        image: "cuir.jpg",
        description: "Une note profonde et sophistiquée, évoquant la texture souple d'un cuir travaillé à la main, avec ses nuances fumées, boisées et légèrement animales, qui confèrent au parfum une allure affirmée, élégante et résolument charismatique.",
        readTime: "4 min"
    },
    {
        id: 8,
        title: "La Tubereuse",
        image: "tureberuse.jpg",
        description: "Une fleur blanche opulente et enivrante, dont le parfum crémeux, solaire et presque narcotique se déploie avec une intensité hypnotique, enveloppant les sens dans une aura sensuelle et luxuriante qui ne laisse personne indifférent.",
        readTime: "6 min"
    }
];

// ========== DOMContentLoaded event ==========
document.addEventListener('DOMContentLoaded', function() {
    // Initialize cart functionality
    initCart();
    updateCartUI();
    
    // Initialize mobile menu
    initMobileMenu();
    
    // Initialize checkout form
    initCheckoutForm();
    
    // Add promotion filter to mobile menu
    addPromotionFilterToMenu();
    
    // Generate blog posts
    generateBlogPosts();
});

// ========== GENERATE BLOG POSTS ==========
function generateBlogPosts() {
    blogGrid.innerHTML = '';
    
    blogPosts.forEach(post => {
        const blogCard = document.createElement('div');
        blogCard.className = 'blog-card';
        blogCard.innerHTML = `
            <div class="blog-image">
                <img src="${post.image}" alt="${post.title}" loading="lazy">
            </div>
            <div class="blog-content">
                <h3 class="blog-title">${post.title}</h3>
                <p class="blog-description">${post.description}</p>
                <a href="javascript:void(0)" class="blog-read-more">
                    Lire l'article <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        `;
        
        // Add click event to blog card
        blogCard.addEventListener('click', function() {
            showBlogModal(post);
        });
        
        blogGrid.appendChild(blogCard);
    });
}

// ========== SHOW BLOG MODAL ==========
function showBlogModal(post) {
    // Create modal if it doesn't exist
    let modal = document.getElementById('blog-modal');
    
    if (!modal) {
        modal = document.createElement('div');
        modal.id = 'blog-modal';
        modal.className = 'blog-modal-overlay';
        modal.innerHTML = `
            <div class="blog-modal">
                <div class="blog-modal-header">
                    <h3 class="blog-modal-title">${post.title}</h3>
                    <button class="close-blog-modal" id="close-blog-modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="blog-modal-content">
                    <div class="blog-modal-image">
                        <img src="${post.image}" alt="${post.title}">
                    </div>
                    <div class="blog-modal-info">
                        <div class="blog-meta">
                            <span class="blog-read-time"><i class="far fa-clock"></i> ${post.readTime} de lecture</span>
                        </div>
                        <p class="blog-modal-description">${post.description}</p>
                        <p class="blog-full-content">Cet article explore en détail le sujet mentionné. Pour lire l'intégralité de l'article, visitez notre blog complet sur notre site web.</p>
                        <a href="javascript:void(0)" class="blog-full-article-btn" onclick="goToBlogArticle(${post.id})">
                            Lire l'article complet sur notre blog
                        </a>
                    </div>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
        
        // Add event listener to close button
        const closeBtn = document.getElementById('close-blog-modal');
        closeBtn.addEventListener('click', function() {
            modal.classList.remove('active');
            document.body.style.overflow = '';
        });
        
        // Close when clicking outside
        modal.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
        
        // Add CSS for modal
        const style = document.createElement('style');
        style.textContent = `
            .blog-modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.8);
                z-index: 2000;
                display: none;
                align-items: center;
                justify-content: center;
                padding: 20px;
                opacity: 0;
                transition: opacity 0.3s ease;
            }
            
            .blog-modal-overlay.active {
                display: flex;
                opacity: 1;
            }
            
            .blog-modal {
                background-color: white;
                border-radius: 15px;
                width: 100%;
                max-width: 800px;
                max-height: 90vh;
                overflow-y: auto;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                transform: translateY(30px);
                opacity: 0;
                transition: all 0.4s ease;
            }
            
            .blog-modal-overlay.active .blog-modal {
                transform: translateY(0);
                opacity: 1;
            }
            
            .blog-modal-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 25px 30px;
                background-color: var(--primary);
                color: white;
                position: sticky;
                top: 0;
                z-index: 1;
            }
            
            .blog-modal-title {
                font-size: 24px;
                font-weight: 600;
                margin: 0;
                flex: 1;
            }
            
            .close-blog-modal {
                background: none;
                border: none;
                color: white;
                font-size: 24px;
                cursor: pointer;
                padding: 5px;
                transition: transform 0.3s;
            }
            
            .close-blog-modal:hover {
                transform: scale(1.1);
            }
            
            .blog-modal-content {
                padding: 0;
            }
            
            .blog-modal-image {
                width: 100%;
                height: 300px;
                overflow: hidden;
            }
            
            .blog-modal-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            
            .blog-modal-info {
                padding: 30px;
            }
            
            .blog-meta {
                display: flex;
                align-items: center;
                gap: 15px;
                margin-bottom: 20px;
                color: var(--gray);
                font-size: 14px;
            }
            
            .blog-read-time i {
                margin-right: 5px;
            }
            
            .blog-modal-description {
                font-size: 16px;
                line-height: 1.8;
                color: #555;
                margin-bottom: 20px;
                font-weight: 500;
            }
            
            .blog-full-content {
                font-size: 16px;
                line-height: 1.8;
                color: #666;
                margin-bottom: 30px;
            }
            
            .blog-full-article-btn {
                display: inline-block;
                padding: 12px 30px;
                background-color: var(--secondary);
                color: white;
                text-decoration: none;
                border-radius: 30px;
                font-weight: 600;
                transition: background-color 0.3s;
                border: none;
                cursor: pointer;
            }
            
            .blog-full-article-btn:hover {
                background-color: var(--primary);
            }
            
            @media (max-width: 768px) {
                .blog-modal {
                    max-width: 95%;
                }
                
                .blog-modal-header {
                    padding: 20px;
                }
                
                .blog-modal-title {
                    font-size: 20px;
                }
                
                .blog-modal-image {
                    height: 200px;
                }
                
                .blog-modal-info {
                    padding: 20px;
                }
            }
        `;
        document.head.appendChild(style);
    } else {
        // Update existing modal content
        modal.querySelector('.blog-modal-title').textContent = post.title;
        modal.querySelector('.blog-modal-image img').src = post.image;
        modal.querySelector('.blog-modal-image img').alt = post.title;
        modal.querySelector('.blog-read-time').innerHTML = `<i class="far fa-clock"></i> ${post.readTime} de lecture`;
        modal.querySelector('.blog-modal-description').textContent = post.description;
        
        // Update the button click event
        const readMoreBtn = modal.querySelector('.blog-full-article-btn');
        readMoreBtn.setAttribute('onclick', `goToBlogArticle(${post.id})`);
    }
    
    // Show modal
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// ========== GO TO BLOG ARTICLE ==========
function goToBlogArticle(articleId) {
    // Save the article ID to localStorage so the blog page knows which one to open
    localStorage.setItem('selectedBlogArticle', articleId);
    
    // Navigate to the blog page
    window.location.href = 'blog.html';
    
    // Close the modal if it's open
    const modal = document.getElementById('blog-modal');
    if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
    }
}

// ========== ADD PROMOTION FILTER TO MOBILE MENU ==========
function addPromotionFilterToMenu() {
    // Add promotion filter to mobile menu if it exists
    const mobileMenuList = document.querySelector('.mobile-menu ul');
    if (mobileMenuList) {
        // Check if promotion filter already exists
        const existingPromotionItem = mobileMenuList.querySelector('a[onclick*="promotion"]');
        if (!existingPromotionItem) {
            const promotionItem = document.createElement('li');
            promotionItem.innerHTML = `
                <a href="javascript:void(0)" onclick="goToPromotions()">
                    <i class="fas fa-tag"></i> Promotion
                </a>
            `;
            
            // Insert after the "Parfums de niche" link or before "À propos de nous"
            const nicheLink = mobileMenuList.querySelector('a[onclick*="niches"]');
            const aboutLink = mobileMenuList.querySelector('a[href="about.html"]');
            
            if (nicheLink) {
                // Insert after niche link
                nicheLink.parentElement.after(promotionItem);
            } else if (aboutLink) {
                // Insert before about link
                aboutLink.parentElement.before(promotionItem);
            } else {
                // Find the last category link
                const lastCategoryLink = mobileMenuList.querySelector('a[onclick*="filterByCategory"]:last-of-type');
                if (lastCategoryLink) {
                    lastCategoryLink.parentElement.after(promotionItem);
                } else {
                    // Add to the end of the menu
                    mobileMenuList.appendChild(promotionItem);
                }
            }
        }
    }
}

// ========== GO TO PROMOTIONS FUNCTION ==========
function goToPromotions() {
    // Set promotion filter and go to categories page
    localStorage.setItem('selectedCategory', 'promotion');
    window.location.href = 'Categories.html';
    
    // Close mobile menu
    const mobileMenu = document.getElementById('mobile-menu');
    const menuOverlay = document.getElementById('menu-overlay');
    
    if (mobileMenu) mobileMenu.classList.remove('active');
    if (menuOverlay) menuOverlay.classList.remove('active');
    document.body.style.overflow = '';
}

// ========== CATEGORY NAVIGATION FUNCTIONS ==========
function navigateToCategory(categoryKey) {
    // Save the selected category to localStorage
    localStorage.setItem('selectedCategory', categoryKey);
    
    // Navigate to the categories page
    window.location.href = 'Categories.html';
}

function getCategoryDisplayName(categoryKey) {
    const categoryMap = {
        'femme': 'Parfums Femme',
        'homme': 'Parfums Homme',
        'arabes': 'Parfums Arabes',
        'niches': 'Parfums de niches',
        'coffrets': 'Coffrets Cadeaux',
        'nouveautes': 'Nouveautés'
    };
    
    return categoryMap[categoryKey] || categoryKey.charAt(0).toUpperCase() + categoryKey.slice(1);
}

function getCategoryDescription(categoryKey) {
    const descriptionMap = {
        'femme': 'Des fragrances délicates et envoûtantes pour la femme moderne',
        'homme': 'Des essences boisées et sophistiquées pour l\'homme élégant',
        'arabes': 'Des fragrances orientales riches en oud et en notes épicées',
        'niches': 'Des créations exclusives et rares pour les connaisseurs',
        'coffrets': 'Des ensembles cadeaux parfaits pour toutes les occasions',
        'nouveautes': 'Découvrez nos dernières arrivées et créations exclusives'
    };
    
    return descriptionMap[categoryKey] || 'Découvrez notre collection de produits dans cette catégorie';
}

function filterByCategory(categoryKey) {
    navigateToCategory(categoryKey);
}

// Mobile menu category links setup
function setupMobileCategoryLinks() {
    // Get all mobile menu category links
    const mobileCategoryLinks = document.querySelectorAll('.mobile-menu a[onclick*="filterByCategory"]');
    
    mobileCategoryLinks.forEach(link => {
        // Remove existing onclick and add new event listener
        const oldOnClick = link.getAttribute('onclick');
        link.removeAttribute('onclick');
        
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Extract category from the old onclick attribute
            const match = oldOnClick?.match(/filterByCategory\('([^']+)'\)/);
            if (match && match[1]) {
                const category = match[1];
                navigateToCategory(category);
                
                // Close mobile menu if open
                const mobileMenu = document.getElementById('mobile-menu');
                const menuOverlay = document.getElementById('menu-overlay');
                
                if (mobileMenu && mobileMenu.classList.contains('active')) {
                    mobileMenu.classList.remove('active');
                    if (menuOverlay) menuOverlay.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }
        });
    });
}

// Initialize category links
document.addEventListener('DOMContentLoaded', function() {
    setupMobileCategoryLinks();
    
    // Setup desktop category links too
    const desktopCategoryLinks = document.querySelectorAll('.desktop-nav a[onclick*="filterByCategory"]');
    desktopCategoryLinks.forEach(link => {
        const oldOnClick = link.getAttribute('onclick');
        link.removeAttribute('onclick');
        
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const match = oldOnClick?.match(/filterByCategory\('([^']+)'\)/);
            if (match && match[1]) {
                const category = match[1];
                navigateToCategory(category);
            }
        });
    });
});

// ========== MOBILE MENU FUNCTIONS ==========
function initMobileMenu() {
    // Open mobile menu
    hamburgerMenu.addEventListener('click', function() {
        mobileMenu.classList.add('active');
        menuOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });
    
    // Close mobile menu
    closeMenu.addEventListener('click', function() {
        mobileMenu.classList.remove('active');
        menuOverlay.classList.remove('active');
        document.body.style.overflow = '';
    });
    
    menuOverlay.addEventListener('click', function() {
        mobileMenu.classList.remove('active');
        menuOverlay.classList.remove('active');
        document.body.style.overflow = '';
    });
}

// ========== CART FUNCTIONS ==========
function initCart() {
    // Cart icon click event
    cartIcon.addEventListener('click', function() {
        cartSidebar.classList.add('active');
        cartOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });

    // Close cart events
    closeCart.addEventListener('click', function() {
        cartSidebar.classList.remove('active');
        cartOverlay.classList.remove('active');
        document.body.style.overflow = '';
    });

    cartOverlay.addEventListener('click', function() {
        cartSidebar.classList.remove('active');
        cartOverlay.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Checkout button
    checkoutBtn.addEventListener('click', function() {
        if (cart.length === 0) {
            showNotification('Votre panier est vide', 'error');
            return;
        }
        checkoutFormOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });
}

function updateCartUI() {
    // Update cart count
    const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
    cartCount.textContent = totalItems;
    
    // Update cart items
    cartItems.innerHTML = '';
    
    if (cart.length === 0) {
        cartItems.innerHTML = `
            <div class="empty-cart">
                <i class="fas fa-shopping-bag"></i>
                <p>Votre panier est vide</p>
            </div>
        `;
    } else {
        cart.forEach((item, index) => {
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            
            // Display brand if available
            const brandDisplay = item.brand ? `<div class="cart-item-brand" style="font-size: 12px; color: #666; margin-bottom: 5px;">${item.brand}</div>` : '';
            
            cartItem.innerHTML = `
                <div class="cart-item-image" style="background-image: url('${item.imageUrl}');"></div>
                <div class="cart-item-details">
                    ${brandDisplay}
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price" style="color: #e74c3c; font-weight: bold;">${item.price.toFixed(2)} MAD</div>
                    <div class="cart-item-size">
                        <small>Volume: ${item.size || item.volume || '50ml'}</small>
                        <div class="size-options">
                            <span class="size-option ${item.size === item.size ? 'selected' : ''}" 
                                  data-index="${index}" data-size="${item.size}">
                                ${item.size}
                            </span>
                        </div>
                    </div>
                    <div class="cart-item-controls">
                        <button class="quantity-btn decrease-quantity" data-index="${index}">-</button>
                        <span class="cart-item-quantity">${item.quantity}</span>
                        <button class="quantity-btn increase-quantity" data-index="${index}">+</button>
                        <button class="remove-item" data-index="${index}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `;
            cartItems.appendChild(cartItem);
        });
        
        // Add event listeners for size options
        document.querySelectorAll('.size-option').forEach(option => {
            option.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                const size = this.getAttribute('data-size');
                updateCartItemSize(index, size);
            });
        });
        
        // Add event listeners for quantity buttons
        document.querySelectorAll('.decrease-quantity').forEach(btn => {
            btn.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                updateQuantity(index, -1);
            });
        });
        
        document.querySelectorAll('.increase-quantity').forEach(btn => {
            btn.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                updateQuantity(index, 1);
            });
        });
        
        document.querySelectorAll('.remove-item').forEach(btn => {
            btn.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                removeFromCart(index);
            });
        });
    }
    
    // Update total price
    const totalPrice = cart.reduce((total, item) => {
        return total + (item.price * item.quantity);
    }, 0);
    cartTotalPrice.textContent = `${totalPrice.toFixed(2)} MAD`;
}

function updateCartItemSize(index, size) {
    if (cart[index]) {
        cart[index].size = size;
        saveCartToStorage();
        updateCartUI();
    }
}

function saveCartToStorage() {
    localStorage.setItem('muskandamber-cart', JSON.stringify(cart));
}

function updateQuantity(index, change) {
    if (cart[index]) {
        cart[index].quantity += change;
        
        if (cart[index].quantity <= 0) {
            removeFromCart(index);
        } else {
            saveCartToStorage();
            updateCartUI();
        }
    }
}

function removeFromCart(index) {
    if (cart[index]) {
        const removedItem = cart[index];
        cart.splice(index, 1);
        saveCartToStorage();
        updateCartUI();
        showNotification(`${removedItem.name} retiré du panier!`);
    }
}

// ========== CHECKOUT FUNCTIONS ==========
function initCheckoutForm() {
    // Cancel order button
    cancelOrderBtn.addEventListener('click', function() {
        checkoutFormOverlay.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Form submission
    checkoutForm.addEventListener('submit', function(e) {
        e.preventDefault();
        submitOrder();
    });

    // Close checkout form when clicking outside
    checkoutFormOverlay.addEventListener('click', function(e) {
        if (e.target === this) {
            this.classList.remove('active');
            document.body.style.overflow = '';
        }
    });
}

async function submitOrder() {
    const name = document.getElementById('customer-name').value;
    const phone = document.getElementById('customer-phone').value;
    const address = document.getElementById('customer-address').value;
    const notes = document.getElementById('customer-notes').value;
    
    const totalPrice = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
    
    const order = {
        customer: { name, phone, address, notes },
        items: cart,
        total: totalPrice,
        status: 'pending',
        date: new Date().toISOString(),
        orderNumber: 'ORD-' + Date.now()
    };
    
    try {
        await db.collection('orders').add(order);
        showNotification('Commande passée avec succès!', 'success');
        
        // Clear cart
        cart = [];
        saveCartToStorage();
        updateCartUI();
        
        // Close checkout form
        checkoutFormOverlay.classList.remove('active');
        document.body.style.overflow = '';
        
        // Clear form
        checkoutForm.reset();
    } catch (error) {
        console.error('Error submitting order:', error);
        showNotification('Erreur lors de la soumission de la commande', 'error');
    }
}

// ========== NOTIFICATION FUNCTION ==========
function showNotification(message, type = 'success') {
    // Remove existing notification
    const existingNotification = document.querySelector('.notification');
    if (existingNotification) {
        existingNotification.remove();
    }
    
    // Create notification element
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.innerHTML = `
        <div class="notification-content">
            <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
            <span>${message}</span>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    // Remove after 3 seconds
    setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => notification.remove(), 300);
    }, 3000);
}
    </script>
</body>
</html>






